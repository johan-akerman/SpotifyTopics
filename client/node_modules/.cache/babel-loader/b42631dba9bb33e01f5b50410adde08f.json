{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Johan desk\\\\Desktop\\\\projects\\\\SpotifyTopics\\\\client\\\\src\\\\components\\\\Discover.js\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\nimport { Link } from \"react-router-dom\";\nimport Spotify from \"spotify-web-api-js\";\n\nconst topics = require(\"../topics.json\");\n\nconst spotifyWebApi = new Spotify();\n\nclass Discover extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      episodes: [],\n      user: \"\"\n    };\n  }\n\n  componentDidMount() {\n    spotifyWebApi.getEpisodes([\"0QVuQXFPUitPeXH727JLgH\", \"2QG2XPrjKY6HYSjmxflMzP\", \"2R4VEgJfLXD2wKmL9c11l6\", \"7LWWaN9qyuSMEg2I0DLG6z\", \"3C3imZeq18TABmcswlHgzY\", \"6oyFNKq3atN7U9splhDnuI\", \"2K25jghHW8RNdDbUf2dLde\", \"1D3H532YgQPn0HW9FJK0yq\"]).then(response => {\n      this.setState({\n        episodes: response.episodes\n      });\n    });\n    console.log(this.state.episodes);\n    spotifyWebApi.getMe().then(response => {\n      this.setState({\n        user: response\n      });\n    });\n  }\n\n  getTrendingTopics() {\n    var temp = [];\n    topics.map(topic => {\n      if (topic.isTrending) {\n        temp.push(topic);\n      }\n    });\n    return temp;\n  }\n\n  playPreviewOnHover(episodeId) {\n    let audio = document.getElementById(\"Player\");\n    let episode = this.state.episodes.find(element => element.episodeId === episodeId);\n    audio.src = episode.audio_preview_url;\n    audio.play();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"episodesContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, \"Welcome \", this.state.user.display_name, \",\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), console.log(this.getTrendingTopics()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, \"Recommended episodes\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, this.state.episodes && this.state.episodes.map(episode => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3\",\n        key: `episode - ${episode.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"podcastEpisodeCardLink\",\n        to: {\n          pathname: `/discover/${episode.id}`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"podcastEpisodeCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"thumbnail\",\n        className: \"img img-fluid\",\n        src: episode.images[0].url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"hideToLongText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 27\n        }\n      }, episode.name), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"hideToLongText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 27\n        }\n      }, episode.show.name))));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, \"Trending topics\"), this.getTrendingTopics().map(topic => {\n      return /*#__PURE__*/React.createElement(Link, {\n        className: \"podcastEpisodeCardLink\",\n        to: {\n          pathname: `/discover/${topic.episodeId}`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge badge-secondary badgeTopic\",\n        onMouseOver: this.playPreviewOnHover(topic.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, topic.title), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, topic.publisher)));\n    }))), /*#__PURE__*/React.createElement(\"audio\", {\n      id: \"Player\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"source\", {\n      src: \"\",\n      type: \"audio/mpeg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Discover;","map":{"version":3,"sources":["C:/Users/Johan desk/Desktop/projects/SpotifyTopics/client/src/components/Discover.js"],"names":["React","Component","Link","Spotify","topics","require","spotifyWebApi","Discover","constructor","props","state","episodes","user","componentDidMount","getEpisodes","then","response","setState","console","log","getMe","getTrendingTopics","temp","map","topic","isTrending","push","playPreviewOnHover","episodeId","audio","document","getElementById","episode","find","element","src","audio_preview_url","play","render","display_name","id","pathname","images","url","name","show","title","publisher"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,MAAMC,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AAEA,MAAMC,aAAa,GAAG,IAAIH,OAAJ,EAAtB;;AAEA,MAAMI,QAAN,SAAuBN,SAAvB,CAAiC;AAC/BO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,QAAQ,EAAE,EAAZ;AAAgBC,MAAAA,IAAI,EAAE;AAAtB,KAAb;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBP,IAAAA,aAAa,CACVQ,WADH,CACe,CACX,wBADW,EAEX,wBAFW,EAGX,wBAHW,EAIX,wBAJW,EAKX,wBALW,EAMX,wBANW,EAOX,wBAPW,EAQX,wBARW,CADf,EAWGC,IAXH,CAWSC,QAAD,IAAc;AAClB,WAAKC,QAAL,CAAc;AACZN,QAAAA,QAAQ,EAAEK,QAAQ,CAACL;AADP,OAAd;AAGD,KAfH;AAiBAO,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWC,QAAvB;AAEAL,IAAAA,aAAa,CAACc,KAAd,GAAsBL,IAAtB,CAA4BC,QAAD,IAAc;AACvC,WAAKC,QAAL,CAAc;AACZL,QAAAA,IAAI,EAAEI;AADM,OAAd;AAGD,KAJD;AAKD;;AAEDK,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,IAAI,GAAG,EAAX;AACAlB,IAAAA,MAAM,CAACmB,GAAP,CAAYC,KAAD,IAAW;AACpB,UAAIA,KAAK,CAACC,UAAV,EAAsB;AACpBH,QAAAA,IAAI,CAACI,IAAL,CAAUF,KAAV;AACD;AACF,KAJD;AAMA,WAAOF,IAAP;AACD;;AAEDK,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAZ;AACA,QAAIC,OAAO,GAAG,KAAKtB,KAAL,CAAWC,QAAX,CAAoBsB,IAApB,CACXC,OAAD,IAAaA,OAAO,CAACN,SAAR,KAAsBA,SADvB,CAAd;AAGAC,IAAAA,KAAK,CAACM,GAAN,GAAYH,OAAO,CAACI,iBAApB;AACAP,IAAAA,KAAK,CAACQ,IAAN;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAa,KAAK5B,KAAL,CAAWE,IAAX,CAAgB2B,YAA7B,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGGrB,OAAO,CAACC,GAAR,CAAY,KAAKE,iBAAL,EAAZ,CAHH,eAIE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAGE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKX,KAAL,CAAWC,QAAX,IACC,KAAKD,KAAL,CAAWC,QAAX,CAAoBY,GAApB,CAAyBS,OAAD,IAAa;AACnC,0BACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAA0B,QAAA,GAAG,EAAG,aAAYA,OAAO,CAACQ,EAAG,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAC,wBADZ;AAEE,QAAA,EAAE,EAAE;AACFC,UAAAA,QAAQ,EAAG,aAAYT,OAAO,CAACQ,EAAG;AADhC,SAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAME;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAC,WADN;AAEE,QAAA,SAAS,EAAC,eAFZ;AAGE,QAAA,GAAG,EAAER,OAAO,CAACU,MAAR,CAAe,CAAf,EAAkBC,GAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAME;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCX,OAAO,CAACY,IAAxC,CANF,eAOE;AAAG,QAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BZ,OAAO,CAACa,IAAR,CAAaD,IAA5C,CAPF,CANF,CADF,CADF;AAoBD,KArBD,CAFJ,CAHF,CADF,eA+BE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAGG,KAAKvB,iBAAL,GAAyBE,GAAzB,CAA8BC,KAAD,IAAW;AACvC,0BACE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAC,wBADZ;AAEE,QAAA,EAAE,EAAE;AACFiB,UAAAA,QAAQ,EAAG,aAAYjB,KAAK,CAACI,SAAU;AADrC,SAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAME;AACE,QAAA,SAAS,EAAC,kCADZ;AAEE,QAAA,WAAW,EAAE,KAAKD,kBAAL,CAAwBH,KAAK,CAACgB,EAA9B,CAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKhB,KAAK,CAACsB,KAAX,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAItB,KAAK,CAACuB,SAAV,CALF,CANF,CADF;AAgBD,KAjBA,CAHH,CA/BF,CAJF,eA2DE;AAAO,MAAA,EAAE,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,GAAG,EAAC,EAAZ;AAAe,MAAA,IAAI,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA3DF,CADF;AAiED;;AAvH8B;;AA0HjC,eAAexC,QAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../App.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Spotify from \"spotify-web-api-js\";\r\n\r\nconst topics = require(\"../topics.json\");\r\n\r\nconst spotifyWebApi = new Spotify();\r\n\r\nclass Discover extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { episodes: [], user: \"\" };\r\n  }\r\n\r\n  componentDidMount() {\r\n    spotifyWebApi\r\n      .getEpisodes([\r\n        \"0QVuQXFPUitPeXH727JLgH\",\r\n        \"2QG2XPrjKY6HYSjmxflMzP\",\r\n        \"2R4VEgJfLXD2wKmL9c11l6\",\r\n        \"7LWWaN9qyuSMEg2I0DLG6z\",\r\n        \"3C3imZeq18TABmcswlHgzY\",\r\n        \"6oyFNKq3atN7U9splhDnuI\",\r\n        \"2K25jghHW8RNdDbUf2dLde\",\r\n        \"1D3H532YgQPn0HW9FJK0yq\",\r\n      ])\r\n      .then((response) => {\r\n        this.setState({\r\n          episodes: response.episodes,\r\n        });\r\n      });\r\n\r\n    console.log(this.state.episodes);\r\n\r\n    spotifyWebApi.getMe().then((response) => {\r\n      this.setState({\r\n        user: response,\r\n      });\r\n    });\r\n  }\r\n\r\n  getTrendingTopics() {\r\n    var temp = [];\r\n    topics.map((topic) => {\r\n      if (topic.isTrending) {\r\n        temp.push(topic);\r\n      }\r\n    });\r\n\r\n    return temp;\r\n  }\r\n\r\n  playPreviewOnHover(episodeId) {\r\n    let audio = document.getElementById(\"Player\");\r\n    let episode = this.state.episodes.find(\r\n      (element) => element.episodeId === episodeId\r\n    );\r\n    audio.src = episode.audio_preview_url;\r\n    audio.play();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"episodesContainer\">\r\n        <h1>Welcome {this.state.user.display_name},</h1>\r\n        <br />\r\n        {console.log(this.getTrendingTopics())}\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-8\">\r\n            <h2>Recommended episodes</h2>\r\n\r\n            <div className=\"row\">\r\n              {this.state.episodes &&\r\n                this.state.episodes.map((episode) => {\r\n                  return (\r\n                    <div className=\"col-lg-3\" key={`episode - ${episode.id}`}>\r\n                      <Link\r\n                        className=\"podcastEpisodeCardLink\"\r\n                        to={{\r\n                          pathname: `/discover/${episode.id}`,\r\n                        }}\r\n                      >\r\n                        <div className=\"podcastEpisodeCard\">\r\n                          <img\r\n                            alt=\"thumbnail\"\r\n                            className=\"img img-fluid\"\r\n                            src={episode.images[0].url}\r\n                          />\r\n                          <h1 className=\"hideToLongText\">{episode.name}</h1>\r\n                          <p className=\"hideToLongText\">{episode.show.name}</p>\r\n                        </div>\r\n                      </Link>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4\">\r\n            <h2>Trending topics</h2>\r\n\r\n            {this.getTrendingTopics().map((topic) => {\r\n              return (\r\n                <Link\r\n                  className=\"podcastEpisodeCardLink\"\r\n                  to={{\r\n                    pathname: `/discover/${topic.episodeId}`,\r\n                  }}\r\n                >\r\n                  <span\r\n                    className=\"badge badge-secondary badgeTopic\"\r\n                    onMouseOver={this.playPreviewOnHover(topic.id)}\r\n                  >\r\n                    <h1>{topic.title}</h1>\r\n                    <p>{topic.publisher}</p>\r\n                  </span>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <audio id=\"Player\">\r\n          <source src=\"\" type=\"audio/mpeg\"></source>\r\n        </audio>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Discover;\r\n"]},"metadata":{},"sourceType":"module"}